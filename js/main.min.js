var nav=document.querySelector("nav"),pswpElement=document.querySelectorAll(".pswp")[0],initPhotoSwipeFromDOM=function(b){var l=function(b){b=b.childNodes;for(var c=b.length,a=[],e,h,g,f=0;f<c;f++)e=b[f],1===e.nodeType&&(h=e.children[0],g=h.getAttribute("data-size").split("x"),g={src:h.getAttribute("href"),w:parseInt(g[0],10),h:parseInt(g[1],10)},1<e.children.length&&(g.title=e.children[1].innerHTML),0<h.children.length&&(g.msrc=h.children[0].getAttribute("src")),g.el=e,a.push(g));return a},n=function c(a,
e){return a&&(e(a)?a:c(a.parentNode,e))},d=function(c){c=c||window.event;c.preventDefault?c.preventDefault():c.returnValue=!1;if(c=n(c.target||c.srcElement,function(a){return a.tagName&&"FIGURE"===a.tagName.toUpperCase()})){for(var a=c.parentNode,e=c.parentNode.childNodes,b=e.length,g=0,f,d=0;d<b;d++)if(1===e[d].nodeType){if(e[d]===c){f=g;break}g++}0<=f&&m(f,a);return!1}},m=function(c,a,b,d){var e=document.querySelectorAll(".pswp")[0],f;f=l(a);a={galleryUID:a.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(a){var c=
f[a].el.getElementsByTagName("img")[0];a=window.pageYOffset||document.documentElement.scrollTop;c=c.getBoundingClientRect();return{x:c.left,y:c.top+a,w:c.width}}};if(d)if(a.galleryPIDs)for(d=0;d<f.length;d++){if(f[d].pid==c){a.index=d;break}}else a.index=parseInt(c,10)-1;else a.index=parseInt(c,10);isNaN(a.index)||(b&&(a.showAnimationDuration=0),(new PhotoSwipe(e,PhotoSwipeUI_Default,f,a)).init())};b=document.querySelectorAll(b);for(var k=0,p=b.length;k<p;k++)b[k].setAttribute("data-pswp-uid",k+1),
b[k].onclick=d;d=function(){var c=window.location.hash.substring(1),a={};if(5>c.length)return a;for(var c=c.split("&"),d=0;d<c.length;d++)if(c[d]){var b=c[d].split("=");2>b.length||(a[b[0]]=b[1])}a.gid&&(a.gid=parseInt(a.gid,10));return a}();d.pid&&d.gid&&m(d.pid,b[d.gid-1],!0,!0)};initPhotoSwipeFromDOM(".my-gallery");function updateUrlHash(b){history.pushState?history.replaceState(null,"","#"+b):location.hash="#"+b}
var observer=new IntersectionObserver(function(b,l){b.forEach(function(b){b.isIntersecting&&(updateUrlHash(b.target.id),Array.prototype.forEach.call(nav.children,function(b){b.classList.remove("active")}),Array.prototype.forEach.call(nav.children,function(d){d.hash.substr(1)==b.target.id&&d.classList.add("active")}))})},{rootMargin:"0px 0px 200px 0px"});document.querySelectorAll("h1").forEach(function(b){observer.observe(b)});
