/*
 PhotoSwipe - v4.1.3 - 2019-01-08
 http://photoswipe.com
 Copyright (c) 2019 Dmitry Semenov; */
(function(p,ra){"function"===typeof define&&define.amd?define(ra):"object"===typeof exports?module.exports=ra():p.PhotoSwipe=ra()})(this,function(){return function(p,ra,rc,sc){var f={features:null,bind:function(a,b,c,e){e=(e?"remove":"add")+"EventListener";b=b.split(" ");for(var d=0;d<b.length;d++)if(b[d])a[e](b[d],c,!1)},isArray:function(a){return a instanceof Array},createEl:function(a,b){var c=document.createElement(b||"div");a&&(c.className=a);return c},getScrollY:function(){var a=window.pageYOffset;
return void 0!==a?a:document.documentElement.scrollTop},unbind:function(a,b,c){f.bind(a,b,c,!0)},removeClass:function(a,b){a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)")," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(a,b){f.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},hasClass:function(a,b){return a.className&&(new RegExp("(^|\\s)"+b+"(\\s|$)")).test(a.className)},getChildByClass:function(a,b){for(var c=a.firstChild;c;){if(f.hasClass(c,b))return c;c=
c.nextSibling}},arraySearch:function(a,b,c){for(var e=a.length;e--;)if(a[e][c]===b)return e;return-1},extend:function(a,b,c){for(var e in b)!b.hasOwnProperty(e)||c&&a.hasOwnProperty(e)||(a[e]=b[e])},easing:{sine:{out:function(a){return Math.sin(Math.PI/2*a)},inOut:function(a){return-(Math.cos(Math.PI*a)-1)/2}},cubic:{out:function(a){return--a*a*a+1}}},detectFeatures:function(){if(f.features)return f.features;var a=f.createEl().style,b="",c={};c.oldIE=document.all&&!document.addEventListener;c.touch=
"ontouchstart"in window;window.requestAnimationFrame&&(c.raf=window.requestAnimationFrame,c.caf=window.cancelAnimationFrame);c.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled;if(!c.pointerEvent){b=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);e&&0<e.length&&(e=parseInt(e[1],10),1<=e&&8>e&&(c.isOldIOSPhone=!0))}e=(e=b.match(/Android\s([0-9\.]*)/))?e[1]:0;e=parseFloat(e);1<=e&&(4.4>e&&(c.isOldAndroid=!0),c.androidVersion=
e);c.isMobileOpera=/opera mini|opera mobi/i.test(b)}for(var e=["transform","perspective","animationName"],d=["","webkit","Moz","ms","O"],t,g,h=0;4>h;h++){for(var b=d[h],l=0;3>l;l++)t=e[l],g=b+(b?t.charAt(0).toUpperCase()+t.slice(1):t),!c[t]&&g in a&&(c[t]=g);b&&!c.raf&&(b=b.toLowerCase(),c.raf=window[b+"RequestAnimationFrame"],c.raf&&(c.caf=window[b+"CancelAnimationFrame"]||window[b+"CancelRequestAnimationFrame"]))}if(!c.raf){var k=0;c.raf=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-
k)),e=window.setTimeout(function(){a(b+c)},c);k=b+c;return e};c.caf=function(a){clearTimeout(a)}}c.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;return f.features=c}};f.detectFeatures();f.features.oldIE&&(f.bind=function(a,b,c,e){b=b.split(" ");for(var d=(e?"detach":"attach")+"Event",f,g=function(){c.handleEvent.call(c)},h=0;h<b.length;h++)if(f=b[h])if("object"===typeof c&&c.handleEvent){if(!e)c["oldIE"+f]=g;else if(!c["oldIE"+f])return!1;
a[d]("on"+f,c["oldIE"+f])}else a[d]("on"+f,c)});var d=this,h={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(a){return"A"===a.tagName},getDoubleTapZoom:function(a,b){return a?1:.7>b.initialZoomLevel?1:1.33},maxSpreadZoom:1.33,modal:!0,
scaleMode:"fit"};f.extend(h,sc);var W=function(){return{x:0,y:0}},sa,Qb,nb,l,Rb,Q,L=W(),ta=W(),g=W(),Ea,Va,z,A={},q,ea,ob,pb,qb,Wa,X=0,ua={},E=W(),u,Sb,M=0,Xa,Ya,Fa,Za,va,fa,$a=!0,R,rb=[],ab,sb,Tb,Ub,tb,ga,m,Ga={},ha=!1,ub,Ha=function(a,b){f.extend(d,b.publicMethods);rb.push(a)},bb=function(a){var b=F();return a>b-1?a-b:0>a?b+a:a},Ia={},r=function(a,b){Ia[a]||(Ia[a]=[]);return Ia[a].push(b)},n=function(a){var b=Ia[a];if(b){var c=Array.prototype.slice.call(arguments);c.shift();for(var e=0;e<b.length;e++)b[e].apply(d,
c)}},N=function(){return(new Date).getTime()},S=function(a){cb=a;d.bg.style.opacity=a*h.bgOpacity},Vb=function(a,b,c,e,f){if(!ha||f&&f!==d.currItem)e/=f?f.fitRatio:d.currItem.fitRatio;a[va]=ob+b+"px, "+c+"px"+pb+" scale("+e+")"},v=function(a){T&&(a&&(q>d.currItem.fitRatio?ha||(ia(d.currItem,!1,!0),ha=!0):ha&&(ia(d.currItem),ha=!1)),Vb(T,g.x,g.y,q))},Ja=function(a){a.container&&Vb(a.container.style,a.initialPosition.x,a.initialPosition.y,a.initialZoomLevel,a)},wa=function(a,b){b[va]=ob+a+"px, 0px"+
pb},db=function(a,b){if(!h.loop&&b){var c=l+(E.x*X-a)/E.x,e=Math.round(a-U.x);if(0>c&&0<e||c>=F()-1&&0>e)a=U.x+e*h.mainScrollEndFriction}U.x=a;wa(a,Rb)},vb=function(a,b){var c=Ka[a]-ua[a];return ta[a]+L[a]+c-b/ea*c},B=function(a,b){a.x=b.x;a.y=b.y;b.id&&(a.id=b.id)},Wb=function(a){a.x=Math.round(a.x);a.y=Math.round(a.y)},wb=null,xb=function(){wb&&(f.unbind(document,"mousemove",xb),f.addClass(p,"pswp--has_mouse"),h.mouseUsed=!0,n("mouseUsed"));wb=setTimeout(function(){wb=null},100)},yb=function(a,
b){var c=La(d.currItem,A,a);b&&(k=c);return c},Xb=function(a){a||(a=d.currItem);return a.initialZoomLevel},Yb=function(a){a||(a=d.currItem);return 0<a.w?h.maxSpreadZoom:1},Zb=function(a,b,c,e){if(e===d.currItem.initialZoomLevel)return c[a]=d.currItem.initialPosition[a],!0;c[a]=vb(a,e);return c[a]>b.min[a]?(c[a]=b.min[a],!0):c[a]<b.max[a]?(c[a]=b.max[a],!0):!1},tc=function(){va?(ob="translate"+(m.perspective&&!R?"3d(":"("),pb=m.perspective?", 0px)":")"):(va="left",f.addClass(p,"pswp--ie"),wa=function(a,
b){b.left=a+"px"},Ja=function(a){var b=1<a.fitRatio?1:a.fitRatio,c=a.container.style,e=b*a.h;c.width=b*a.w+"px";c.height=e+"px";c.left=a.initialPosition.x+"px";c.top=a.initialPosition.y+"px"},v=function(){if(T){var a=T,b=d.currItem,c=1<b.fitRatio?1:b.fitRatio,e=c*b.h;a.width=c*b.w+"px";a.height=e+"px";a.left=g.x+"px";a.top=g.y+"px"}})},uc=function(a){var b="";h.escKey&&27===a.keyCode?b="close":h.arrowKeys&&(37===a.keyCode?b="prev":39===a.keyCode&&(b="next"));!b||a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||
(a.preventDefault?a.preventDefault():a.returnValue=!1,d[b]())},vc=function(a){a&&(xa||ja||C||Ma)&&(a.preventDefault(),a.stopPropagation())},$b=function(){d.setScrollOffset(0,f.getScrollY())},G={},ya=0,Na=function(a){G[a]&&(G[a].raf&&sb(G[a].raf),ya--,delete G[a])},zb=function(a){G[a]&&Na(a);G[a]||(ya++,G[a]={})},Oa=function(){for(var a in G)G.hasOwnProperty(a)&&Na(a)},Pa=function(a,b,c,e,d,f,g){var h=N(),H;zb(a);var t=function(){G[a]&&(H=N()-h,H>=e?(Na(a),f(c),g&&g()):(f((c-b)*d(H/e)+b),G[a].raf=
ab(t)))};t()},wc={shout:n,listen:r,viewportSize:A,options:h,isMainScrollAnimating:function(){return C},getZoomLevel:function(){return q},getCurrentIndex:function(){return l},isDragging:function(){return O},isZooming:function(){return V},setScrollOffset:function(a,b){ua.x=a;ga=ua.y=b;n("updateScrollOffset",ua)},applyZoomPan:function(a,b,c,e){g.x=b;g.y=c;q=a;v(e)},init:function(){if(!sa&&!Qb){var a;d.framework=f;d.template=p;d.bg=f.getChildByClass(p,"pswp__bg");Tb=p.className;sa=!0;m=f.detectFeatures();
ab=m.raf;sb=m.caf;va=m.transform;tb=m.oldIE;d.scrollWrap=f.getChildByClass(p,"pswp__scroll-wrap");d.container=f.getChildByClass(d.scrollWrap,"pswp__container");Rb=d.container.style;d.itemHolders=u=[{el:d.container.children[0],wrap:0,index:-1},{el:d.container.children[1],wrap:0,index:-1},{el:d.container.children[2],wrap:0,index:-1}];u[0].el.style.display=u[2].el.style.display="none";tc();z={resize:d.updateSize,orientationchange:function(){clearTimeout(ub);ub=setTimeout(function(){A.x!==d.scrollWrap.clientWidth&&
d.updateSize()},500)},scroll:$b,keydown:uc,click:vc};a=m.isOldIOSPhone||m.isOldAndroid||m.isMobileOpera;m.animationName&&m.transform&&!a||(h.showAnimationDuration=h.hideAnimationDuration=0);for(a=0;a<rb.length;a++)d["init"+rb[a]]();ra&&(d.ui=new ra(d,f)).init();n("firstUpdate");l=l||h.index||0;if(isNaN(l)||0>l||l>=F())l=0;d.currItem=Y(l);if(m.isOldIOSPhone||m.isOldAndroid)$a=!1;p.setAttribute("aria-hidden","false");h.modal&&($a?p.style.position="fixed":(p.style.position="absolute",p.style.top=f.getScrollY()+
"px"));void 0===ga&&(n("initialLayout"),ga=Ub=f.getScrollY());a="pswp--open ";h.mainClass&&(a+=h.mainClass+" ");h.showHideOpacity&&(a+="pswp--animate_opacity ");a+=R?"pswp--touch":"pswp--notouch";a+=m.animationName?" pswp--css_animation":"";a+=m.svg?" pswp--svg":"";f.addClass(p,a);d.updateSize();Q=-1;M=null;for(a=0;3>a;a++)wa((a+Q)*E.x,u[a].el.style);tb||f.bind(d.scrollWrap,Va,d);r("initialZoomInEnd",function(){d.setContent(u[0],l-1);d.setContent(u[2],l+1);u[0].el.style.display=u[2].el.style.display=
"block";h.focus&&p.focus();f.bind(document,"keydown",d);m.transform&&f.bind(d.scrollWrap,"click",d);h.mouseUsed||f.bind(document,"mousemove",xb);f.bind(window,"resize scroll orientationchange",d);n("bindEvents")});d.setContent(u[1],l);d.updateCurrItem();n("afterInit");$a||(qb=setInterval(function(){ya||O||V||q!==d.currItem.initialZoomLevel||d.updateSize()},1E3));f.addClass(p,"pswp--visible")}},close:function(){sa&&(sa=!1,Qb=!0,n("close"),f.unbind(window,"resize scroll orientationchange",d),f.unbind(window,
"scroll",z.scroll),f.unbind(document,"keydown",d),f.unbind(document,"mousemove",xb),m.transform&&f.unbind(d.scrollWrap,"click",d),O&&f.unbind(window,Ea,d),clearTimeout(ub),n("unbindEvents"),ac(d.currItem,null,!0,d.destroy))},destroy:function(){n("destroy");ka&&clearTimeout(ka);p.setAttribute("aria-hidden","true");p.className=Tb;qb&&clearInterval(qb);f.unbind(d.scrollWrap,Va,d);f.unbind(window,"scroll",d);Ab();Oa();Ia=null},panTo:function(a,b,c){c||(a>k.min.x?a=k.min.x:a<k.max.x&&(a=k.max.x),b>k.min.y?
b=k.min.y:b<k.max.y&&(b=k.max.y));g.x=a;g.y=b;v()},handleEvent:function(a){a=a||window.event;if(z[a.type])z[a.type](a)},goTo:function(a){a=bb(a);var b=a-l;M=b;l=a;d.currItem=Y(l);X-=b;db(E.x*X);Oa();C=!1;d.updateCurrItem()},next:function(){d.goTo(l+1)},prev:function(){d.goTo(l-1)},updateCurrZoomItem:function(a){a&&n("beforeChange",0);if(u[1].el.children.length){var b=u[1].el.children[0];T=f.hasClass(b,"pswp__zoom-wrap")?b.style:null}else T=null;k=d.currItem.bounds;ea=q=d.currItem.initialZoomLevel;
g.x=k.center.x;g.y=k.center.y;a&&n("afterChange")},invalidateCurrItems:function(){Wa=!0;for(var a=0;3>a;a++)u[a].item&&(u[a].item.needsUpdate=!0)},updateCurrItem:function(a){if(0!==M){var b=Math.abs(M);if(!(a&&2>b)){d.currItem=Y(l);ha=!1;n("beforeChange",M);3<=b&&(Q+=M+(0<M?-3:3),b=3);for(var c=0;c<b;c++)0<M?(a=u.shift(),u[2]=a,Q++,wa((Q+2)*E.x,a.el.style),d.setContent(a,l-b+c+1+1)):(a=u.pop(),u.unshift(a),Q--,wa(Q*E.x,a.el.style),d.setContent(a,l+b-c-1-1));T&&1===Math.abs(M)&&(b=Y(Sb),b.initialZoomLevel!==
q&&(La(b,A),ia(b),Ja(b)));M=0;d.updateCurrZoomItem();Sb=l;n("afterChange")}}},updateSize:function(a){if(!$a&&h.modal){var b=f.getScrollY();ga!==b&&(p.style.top=b+"px",ga=b);if(!a&&Ga.x===window.innerWidth&&Ga.y===window.innerHeight)return;Ga.x=window.innerWidth;Ga.y=window.innerHeight;p.style.height=Ga.y+"px"}A.x=d.scrollWrap.clientWidth;A.y=d.scrollWrap.clientHeight;$b();E.x=A.x+Math.round(A.x*h.spacing);E.y=A.y;db(E.x*X);n("beforeResize");if(void 0!==Q){for(var c,e=0;3>e;e++)a=u[e],wa((e+Q)*E.x,
a.el.style),c=l+e-1,h.loop&&2<F()&&(c=bb(c)),(b=Y(c))&&(Wa||b.needsUpdate||!b.bounds)?(d.cleanSlide(b),d.setContent(a,c),1===e&&(d.currItem=b,d.updateCurrZoomItem(!0)),b.needsUpdate=!1):-1===a.index&&0<=c&&d.setContent(a,c),b&&b.container&&(La(b,A),ia(b),Ja(b));Wa=!1}ea=q=d.currItem.initialZoomLevel;if(k=d.currItem.bounds)g.x=k.center.x,g.y=k.center.y,v(!0);n("resize")},zoomTo:function(a,b,c,e,d){b&&(ea=q,Ka.x=Math.abs(b.x)-g.x,Ka.y=Math.abs(b.y)-g.y,B(ta,g));b=yb(a,!1);var h={};Zb("x",b,h,a);Zb("y",
b,h,a);var H=q,l=g.x,k=g.y;Wb(h);b=function(b){1===b?(q=a,g.x=h.x,g.y=h.y):(q=(a-H)*b+H,g.x=(h.x-l)*b+l,g.y=(h.y-k)*b+k);d&&d(b);v(1===b)};c?Pa("customZoomTo",0,1,c,e||f.easing.sine.inOut,b):b(1)}},bc,eb,w={},P={},x={},D={},za={},Z=[],la={},Qa,ma=[],Bb,Cb,Db,Ma,Ra,fb=0,Sa=W(),Eb=0,O,Fb,ja,xa,gb,na,I,V,cc,k,U=W(),T,C,Ka=W(),oa=W(),aa,Gb,hb,cb,ib,dc=function(a,b){Bb=Math.abs(a.x-b.x);Cb=Math.abs(a.y-b.y);return Math.sqrt(Bb*Bb+Cb*Cb)},Ab=function(){gb&&(sb(gb),gb=null)},ec=function(){if(O&&(gb=ab(ec),
I)){var a=I.length;if(0!==a)if(B(w,I[0]),x.x=w.x-D.x,x.y=w.y-D.y,V&&1<a){D.x=w.x;D.y=w.y;if(a=!x.x&&!x.y)a=I[1],a=a.x===P.x&&a.y===P.y;if(!a){B(P,I[1]);ja||(ja=!0,n("zoomGestureStarted"));a=dc(w,P);a=1/cc*a*ea;a>d.currItem.initialZoomLevel+d.currItem.initialZoomLevel/15&&(ib=!0);var b=Xb(),c=Yb();a<b?h.pinchToClose&&!ib&&ea<=d.currItem.initialZoomLevel?(b=1-(b-a)/(b/1.2),S(b),n("onPinchClose",b),hb=!0):(a=(b-a)/b,1<a&&(a=1),a=b-b/3*a):a>c&&(a=(a-c)/(6*b),1<a&&(a=1),a=c+a*b);Sa.x=.5*(w.x+P.x);Sa.y=
.5*(w.y+P.y);L.x+=Sa.x-oa.x;L.y+=Sa.y-oa.y;B(oa,Sa);g.x=vb("x",a);g.y=vb("y",a);Db=a>q;q=a;v()}}else if(aa&&(Gb&&(Gb=!1,10<=Math.abs(x.x)&&(x.x-=I[0].x-za.x),10<=Math.abs(x.y)&&(x.y-=I[0].y-za.y)),D.x=w.x,D.y=w.y,0!==x.x||0!==x.y))if("v"===aa&&h.closeOnVerticalDrag&&"fit"===h.scaleMode&&q===d.currItem.initialZoomLevel)L.y+=x.y,g.y+=x.y,a=fc(),Ma=!0,n("onVerticalDrag",a),S(a),v();else{a=N();b=w.x;c=w.y;if(50<a-eb){var e=2<ma.length?ma.shift():{};e.x=b;e.y=c;ma.push(e);eb=a}xa=!0;k=d.currItem.bounds;
gc("x",x)||(gc("y",x),Wb(g),v())}}},hc=function(a,b){return!a||a===document||a.getAttribute("class")&&-1<a.getAttribute("class").indexOf("pswp__scroll-wrap")?!1:b(a)?a:hc(a.parentNode,b)},Hb={},ic=function(a,b){Hb.prevent=!hc(a.target,h.isClickableElement);n("preventDragEvent",a,b,Hb);return Hb.prevent},jc=function(a,b){b.x=a.pageX;b.y=a.pageY;b.id=a.identifier;return b},fc=function(){return 1-Math.abs((g.y-d.currItem.initialPosition.y)/(A.y/2))},Ta={},xc={},ba=[],jb,Ib=function(a){for(;0<ba.length;)ba.pop();
fa?(jb=0,Z.forEach(function(a){0===jb?ba[0]=a:1===jb&&(ba[1]=a);jb++})):-1<a.type.indexOf("touch")?a.touches&&0<a.touches.length&&(ba[0]=jc(a.touches[0],Ta),1<a.touches.length&&(ba[1]=jc(a.touches[1],xc))):(Ta.x=a.pageX,Ta.y=a.pageY,Ta.id="",ba[0]=Ta);return ba},gc=function(a,b){var c,e=g[a]+b[a],f,t=0<b[a],l=U.x+b.x,n=U.x-la.x,p,m;c=e>k.min[a]||e<k.max[a]?h.panEndFriction:1;e=g[a]+b[a]*c;if(h.allowPanToNext||q===d.currItem.initialZoomLevel)if(T?"h"!==aa||"x"!==a||ja||(t?(e>k.min[a]&&(c=h.panEndFriction,
f=k.min[a]-ta[a]),(0>=f||0>n)&&1<F()?(m=l,0>n&&l>la.x&&(m=la.x)):k.min.x!==k.max.x&&(p=e)):(e<k.max[a]&&(c=h.panEndFriction,f=ta[a]-k.max[a]),(0>=f||0<n)&&1<F()?(m=l,0<n&&l<la.x&&(m=la.x)):k.min.x!==k.max.x&&(p=e))):m=l,"x"===a)return void 0!==m&&(db(m,!0),na=m===la.x?!1:!0),k.min.x!==k.max.x&&(void 0!==p?g.x=p:na||(g.x+=b.x*c)),void 0!==m;C||na||q>d.currItem.fitRatio&&(g[a]+=b[a]*c)},yc=function(a){if(!("mousedown"===a.type&&0<a.button))if(Aa)a.preventDefault();else if(!Ra||"mousedown"!==a.type){ic(a,
!0)&&a.preventDefault();n("pointerDown");if(fa){var b=f.arraySearch(Z,a.pointerId,"id");0>b&&(b=Z.length);Z[b]={x:a.pageX,y:a.pageY,id:a.pointerId}}a=Ib(a);b=a.length;I=null;Oa();O&&1!==b||(O=Gb=!0,f.bind(window,Ea,d),Db=ib=hb=Ma=na=xa=Fb=ja=!1,aa=null,n("firstTouchStart",a),B(ta,g),L.x=L.y=0,B(D,a[0]),B(za,D),la.x=E.x*X,ma=[{x:D.x,y:D.y}],eb=bc=N(),yb(q,!0),Ab(),ec());!V&&1<b&&!C&&!na&&(ea=q,ja=!1,V=Fb=!0,L.y=L.x=0,B(ta,g),B(w,a[0]),B(P,a[1]),oa.x=.5*(w.x+P.x),oa.y=.5*(w.y+P.y),Ka.x=Math.abs(oa.x)-
g.x,Ka.y=Math.abs(oa.y)-g.y,cc=dc(w,P))}},zc=function(a){a.preventDefault();if(fa){var b=f.arraySearch(Z,a.pointerId,"id");-1<b&&(b=Z[b],b.x=a.pageX,b.y=a.pageY)}O&&(a=Ib(a),aa||xa||V?I=a:U.x!==E.x*X?aa="h":(b=Math.abs(a[0].x-D.x)-Math.abs(a[0].y-D.y),10<=Math.abs(b)&&(aa=0<b?"h":"v",I=a)))},Ec=function(a){if(m.isOldAndroid){if(Ra&&"mouseup"===a.type)return;-1<a.type.indexOf("touch")&&(clearTimeout(Ra),Ra=setTimeout(function(){Ra=0},600))}n("pointerUp");ic(a,!1)&&a.preventDefault();var b;if(fa){var c=
f.arraySearch(Z,a.pointerId,"id");-1<c&&(b=Z.splice(c,1)[0],navigator.msPointerEnabled?(b.type={4:"mouse",2:"touch",3:"pen"}[a.pointerType],b.type||(b.type=a.pointerType||"mouse")):b.type=a.pointerType||"mouse")}var e=Ib(a),c=e.length;"mouseup"===a.type&&(c=0);if(2===c)return I=null,!0;1===c&&B(za,e[0]);0!==c||aa||C||(b||("mouseup"===a.type?b={x:a.pageX,y:a.pageY,type:"mouse"}:a.changedTouches&&a.changedTouches[0]&&(b={x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY,type:"touch"})),n("touchRelease",
a,b));a=-1;0===c&&(O=!1,f.unbind(window,Ea,d),Ab(),V?a=0:-1!==Eb&&(a=N()-Eb));Eb=1===c?N():-1;a=-1!==a&&150>a?"zoom":"swipe";V&&2>c&&(V=!1,1===c&&(a="zoomPointerUp"),n("zoomGestureEnded"));I=null;if(xa||ja||C||Ma)if(Oa(),Qa||(Qa=Ac()),Qa.calculateSwipeSpeed("x"),Ma)if(fc()<h.verticalDragRange)d.close();else{var H=g.y,l=cb;Pa("verticalDrag",0,1,300,f.easing.cubic.out,function(a){g.y=(d.currItem.initialPosition.y-H)*a+H;S((1-l)*a+l);v()});n("onVerticalDrag",1)}else{if((na||C)&&0===c){if(Bc(a,Qa))return;
a="zoomPointerUp"}C||("swipe"!==a?Cc():!na&&q>d.currItem.fitRatio&&Dc(Qa))}},Ac=function(){var a,b,c={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(e){1<ma.length?(a=N()-eb+50,b=ma[ma.length-2][e]):(a=N()-bc,b=za[e]);c.lastFlickOffset[e]=D[e]-b;c.lastFlickDist[e]=Math.abs(c.lastFlickOffset[e]);c.lastFlickSpeed[e]=
20<c.lastFlickDist[e]?c.lastFlickOffset[e]/a:0;.1>Math.abs(c.lastFlickSpeed[e])&&(c.lastFlickSpeed[e]=0);c.slowDownRatio[e]=.95;c.slowDownRatioReverse[e]=1-c.slowDownRatio[e];c.speedDecelerationRatio[e]=1},calculateOverBoundsAnimOffset:function(a,b){c.backAnimStarted[a]||(g[a]>k.min[a]?c.backAnimDestination[a]=k.min[a]:g[a]<k.max[a]&&(c.backAnimDestination[a]=k.max[a]),void 0!==c.backAnimDestination[a]&&(c.slowDownRatio[a]=.7,c.slowDownRatioReverse[a]=1-c.slowDownRatio[a],.05>c.speedDecelerationRatioAbs[a]&&
(c.lastFlickSpeed[a]=0,c.backAnimStarted[a]=!0,Pa("bounceZoomPan"+a,g[a],c.backAnimDestination[a],b||300,f.easing.sine.out,function(b){g[a]=b;v()}))))},calculateAnimOffset:function(a){c.backAnimStarted[a]||(c.speedDecelerationRatio[a]*=c.slowDownRatio[a]+c.slowDownRatioReverse[a]-c.slowDownRatioReverse[a]*c.timeDiff/10,c.speedDecelerationRatioAbs[a]=Math.abs(c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]),c.distanceOffset[a]=c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]*c.timeDiff,g[a]+=c.distanceOffset[a])},
panAnimLoop:function(){G.zoomPan&&(G.zoomPan.raf=ab(c.panAnimLoop),c.now=N(),c.timeDiff=c.now-c.lastNow,c.lastNow=c.now,c.calculateAnimOffset("x"),c.calculateAnimOffset("y"),v(),c.calculateOverBoundsAnimOffset("x"),c.calculateOverBoundsAnimOffset("y"),.05>c.speedDecelerationRatioAbs.x&&.05>c.speedDecelerationRatioAbs.y&&(g.x=Math.round(g.x),g.y=Math.round(g.y),v(),Na("zoomPan")))}};return c},Dc=function(a){a.calculateSwipeSpeed("y");k=d.currItem.bounds;a.backAnimDestination={};a.backAnimStarted={};
if(.05>=Math.abs(a.lastFlickSpeed.x)&&.05>=Math.abs(a.lastFlickSpeed.y))return a.speedDecelerationRatioAbs.x=a.speedDecelerationRatioAbs.y=0,a.calculateOverBoundsAnimOffset("x"),a.calculateOverBoundsAnimOffset("y"),!0;zb("zoomPan");a.lastNow=N();a.panAnimLoop()},Bc=function(a,b){var c;C||(fb=l);var e;if("swipe"===a){var g=D.x-za.x,t=10>b.lastFlickDist.x;30<g&&(t||20<b.lastFlickOffset.x)?e=-1:-30>g&&(t||-20>b.lastFlickOffset.x)&&(e=1)}var k;e&&(l+=e,0>l?(l=h.loop?F()-1:0,k=!0):l>=F()&&(l=h.loop?0:
F()-1,k=!0),!k||h.loop)&&(M+=e,X-=e,c=!0);e=E.x*X;g=Math.abs(e-U.x);c||e>U.x===0<b.lastFlickSpeed.x?(g=0<Math.abs(b.lastFlickSpeed.x)?g/Math.abs(b.lastFlickSpeed.x):333,g=Math.min(g,400),g=Math.max(g,250)):g=333;fb===l&&(c=!1);C=!0;n("mainScrollAnimStart");Pa("mainScroll",U.x,e,g,f.easing.cubic.out,db,function(){Oa();C=!1;fb=-1;(c||fb!==l)&&d.updateCurrItem();n("mainScrollAnimComplete")});c&&d.updateCurrItem(!0);return c},Cc=function(){var a=q,b=Xb(),c=Yb();q<b?a=b:q>c&&(a=c);var e,g=cb;if(hb&&!Db&&
!ib&&q<b)return d.close(),!0;hb&&(e=function(a){S((1-g)*a+g)});d.zoomTo(a,0,200,f.easing.cubic.out,e);return!0};Ha("Gestures",{publicMethods:{initGestures:function(){var a=function(a,c,e,d,f){Xa=a+c;Ya=a+e;Fa=a+d;Za=f?a+f:""};(fa=m.pointerEvent)&&m.touch&&(m.touch=!1);fa?navigator.msPointerEnabled?a("MSPointer","Down","Move","Up","Cancel"):a("pointer","down","move","up","cancel"):m.touch?(a("touch","start","move","end","cancel"),R=!0):a("mouse","down","move","up");Ea=Ya+" "+Fa+" "+Za;Va=Xa;fa&&!R&&
(R=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints);d.likelyTouchDevice=R;z[Xa]=yc;z[Ya]=zc;z[Fa]=Ec;Za&&(z[Za]=z[Fa]);m.touch&&(Va+=" mousedown",Ea+=" mousemove mouseup",z.mousedown=z[Xa],z.mousemove=z[Ya],z.mouseup=z[Fa]);R||(h.allowPanToNext=!1)}}});var ka,ac=function(a,b,c,e){ka&&clearTimeout(ka);Jb=Aa=!0;var k;a.initialLayout?(k=a.initialLayout,a.initialLayout=null):k=h.getThumbBoundsFn&&h.getThumbBoundsFn(l);var t=c?h.hideAnimationDuration:h.showAnimationDuration,m=function(){Na("initialZoom");
c?(d.template.removeAttribute("style"),d.bg.removeAttribute("style")):(S(1),b&&(b.style.display="block"),f.addClass(p,"pswp--animated-in"),n("initialZoom"+(c?"OutEnd":"InEnd")));e&&e();Aa=!1};t&&k&&void 0!==k.x?function(){var b=nb,e=!d.currItem.src||d.currItem.loadError||h.showHideOpacity;a.miniImg&&(a.miniImg.style.webkitBackfaceVisibility="hidden");c||(q=k.w/a.w,g.x=k.x,g.y=k.y-Ub,d[e?"template":"bg"].style.opacity=.001,v());zb("initialZoom");c&&!b&&f.removeClass(p,"pswp--animated-in");if(e)if(c)f[(b?
"remove":"add")+"Class"](p,"pswp--animate_opacity");else setTimeout(function(){f.addClass(p,"pswp--animate_opacity")},30);ka=setTimeout(function(){n("initialZoom"+(c?"Out":"In"));if(c){var d=k.w/a.w,h=g.x,l=g.y,H=q,r=cb,u=function(a){1===a?(q=d,g.x=k.x,g.y=k.y-ga):(q=(d-H)*a+H,g.x=(k.x-h)*a+h,g.y=(k.y-ga-l)*a+l);v();e?p.style.opacity=1-a:S(r-a*r)};b?Pa("initialZoom",0,1,t,f.easing.cubic.out,u,m):(u(1),ka=setTimeout(m,t+20))}else q=a.initialZoomLevel,B(g,a.initialPosition),v(),S(1),e?p.style.opacity=
1:S(1),ka=setTimeout(m,t+20)},c?25:90)}():(n("initialZoom"+(c?"Out":"In")),q=a.initialZoomLevel,B(g,a.initialPosition),v(),p.style.opacity=c?0:1,S(1),t?setTimeout(function(){m()},t):m())},ca,Ba,Ca,pa=[],Jb,Aa,Fc={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return ca.length}},Y,F,kc=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},La=function(a,
b,c){if(a.src&&!a.loadError){var e=!c;e&&(a.vGap||(a.vGap={top:0,bottom:0}),n("parseVerticalMargin",a));Ba=b.x;Ca=b.y-a.vGap.top-a.vGap.bottom;if(e){b=Ba/a.w;var d=Ca/a.h;a.fitRatio=b<d?b:d;b=h.scaleMode;"orig"===b?c=1:"fit"===b&&(c=a.fitRatio);1<c&&(c=1);a.initialZoomLevel=c;a.bounds||(a.bounds=kc())}if(!c)return;b=a.w*c;var d=a.h*c,f=a.bounds;f.center.x=Math.round((Ba-b)/2);f.center.y=Math.round((Ca-d)/2)+a.vGap.top;f.max.x=b>Ba?Math.round(Ba-b):f.center.x;f.max.y=d>Ca?Math.round(Ca-d)+a.vGap.top:
f.center.y;f.min.x=b>Ba?0:f.center.x;f.min.y=d>Ca?a.vGap.top:f.center.y;e&&c===a.initialZoomLevel&&(a.initialPosition=a.bounds.center)}else a.w=a.h=0,a.initialZoomLevel=a.fitRatio=1,a.bounds=kc(),a.initialPosition=a.bounds.center;return a.bounds},kb=function(a,b,c,e,f,g){!b.loadError&&e&&(b.imageAppended=!0,ia(b,e,b===d.currItem&&ha),c.appendChild(e),g&&setTimeout(function(){b&&b.loaded&&b.placeholder&&(b.placeholder.style.display="none",b.placeholder=null)},500))},lc=function(a){a.loading=!0;a.loaded=
!1;var b=a.img=f.createEl("pswp__img","img"),c=function(){a.loading=!1;a.loaded=!0;a.loadComplete?a.loadComplete(a):a.img=null;b=b.onload=b.onerror=null};b.onload=c;b.onerror=function(){a.loadError=!0;c()};b.src=a.src;return b},mc=function(a,b){if(a.src&&a.loadError&&a.container)return b&&(a.container.innerHTML=""),a.container.innerHTML=h.errorMsg.replace("%url%",a.src),!0},ia=function(a,b,c){if(a.src){b||(b=a.container.lastChild);var d=c?a.w:Math.round(a.w*a.fitRatio);c=c?a.h:Math.round(a.h*a.fitRatio);
a.placeholder&&!a.loaded&&(a.placeholder.style.width=d+"px",a.placeholder.style.height=c+"px");b.style.width=d+"px";b.style.height=c+"px"}},nc=function(){if(pa.length){for(var a,b=0;b<pa.length;b++)a=pa[b],a.holder.index===a.index&&kb(a.index,a.item,a.baseDiv,a.img,!1,a.clearPlaceholder);pa=[]}};Ha("Controller",{publicMethods:{lazyLoadItem:function(a){a=bb(a);var b=Y(a);b&&(!b.loaded&&!b.loading||Wa)&&(n("gettingData",a,b),b.src&&lc(b))},initController:function(){f.extend(h,Fc,!0);d.items=ca=rc;Y=
d.getItemAt;F=h.getNumItemsFn;3>F()&&(h.loop=!1);r("beforeChange",function(a){var b=h.preload;a=null===a?!0:0<=a;var c=Math.min(b[0],F()),b=Math.min(b[1],F()),e;for(e=1;e<=(a?b:c);e++)d.lazyLoadItem(l+e);for(e=1;e<=(a?c:b);e++)d.lazyLoadItem(l-e)});r("initialLayout",function(){d.currItem.initialLayout=h.getThumbBoundsFn&&h.getThumbBoundsFn(l)});r("mainScrollAnimComplete",nc);r("initialZoomInEnd",nc);r("destroy",function(){for(var a,b=0;b<ca.length;b++)a=ca[b],a.container&&(a.container=null),a.placeholder&&
(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loadError&&(a.loaded=a.loadError=!1);pa=null})},getItemAt:function(a){return 0<=a?void 0!==ca[a]?ca[a]:!1:!1},allowProgressiveImg:function(){return h.forceProgressiveLoading||!R||h.mouseUsed||1200<screen.width},setContent:function(a,b){h.loop&&(b=bb(b));var c=d.getItemAt(a.index);c&&(c.container=null);var c=d.getItemAt(b),e;if(c){n("gettingData",b,c);a.index=b;a.item=c;var g=c.container=f.createEl("pswp__zoom-wrap");!c.src&&
c.html&&(c.html.tagName?g.appendChild(c.html):g.innerHTML=c.html);mc(c);La(c,A);if(!c.src||c.loadError||c.loaded)c.src&&!c.loadError&&(e=f.createEl("pswp__img","img"),e.style.opacity=1,e.src=c.src,ia(c,e),kb(b,c,g,e,!0));else{c.loadComplete=function(c){if(sa){if(a&&a.index===b){if(mc(c,!0)){c.loadComplete=c.img=null;La(c,A);Ja(c);a.index===l&&d.updateCurrZoomItem();return}c.imageAppended?!Aa&&c.placeholder&&(c.placeholder.style.display="none",c.placeholder=null):m.transform&&(C||Aa)?pa.push({item:c,
baseDiv:g,img:c.img,index:b,holder:a,clearPlaceholder:!0}):kb(b,c,g,c.img,C||Aa,!0)}c.loadComplete=null;c.img=null;n("imageLoadComplete",b,c)}};if(f.features.transform){var k=f.createEl("pswp__img pswp__img--placeholder"+(c.msrc?"":" pswp__img--placeholder--blank"),c.msrc?"img":"");c.msrc&&(k.src=c.msrc);ia(c,k);g.appendChild(k);c.placeholder=k}c.loading||lc(c);d.allowProgressiveImg()&&(!Jb&&m.transform?pa.push({item:c,baseDiv:g,img:c.img,index:b,holder:a}):kb(b,c,g,c.img,!0,!0))}Jb||b!==l?Ja(c):
(T=g.style,ac(c,e||c.img));a.el.innerHTML="";a.el.appendChild(g)}else a.el.innerHTML=""},cleanSlide:function(a){a.img&&(a.img.onload=a.img.onerror=null);a.loaded=a.loading=a.img=a.imageAppended=!1}}});var da,lb={},Kb=function(a,b,c){var d=document.createEvent("CustomEvent");d.initCustomEvent("pswpTap",!0,!0,{origEvent:a,target:a.target,releasePoint:b,pointerType:c||"touch"});a.target.dispatchEvent(d)};Ha("Tap",{publicMethods:{initTap:function(){r("firstTouchStart",d.onTapStart);r("touchRelease",d.onTapRelease);
r("destroy",function(){lb={};da=null})},onTapStart:function(a){1<a.length&&(clearTimeout(da),da=null)},onTapRelease:function(a,b){if(b&&!xa&&!Fb&&!ya){if(da&&(clearTimeout(da),da=null,25>Math.abs(b.x-lb.x)&&25>Math.abs(b.y-lb.y))){n("doubleTap",b);return}"mouse"===b.type?Kb(a,b,"mouse"):"BUTTON"===a.target.tagName.toUpperCase()||f.hasClass(a.target,"pswp__single-tap")?Kb(a,b):(B(lb,b),da=setTimeout(function(){Kb(a,b);da=null},300))}}}});var J;Ha("DesktopZoom",{publicMethods:{initDesktopZoom:function(){tb||
(R?r("mouseUsed",function(){d.setupDesktopZoom()}):d.setupDesktopZoom(!0))},setupDesktopZoom:function(a){J={};r("bindEvents",function(){f.bind(p,"wheel mousewheel DOMMouseScroll",d.handleMouseWheel)});r("unbindEvents",function(){J&&f.unbind(p,"wheel mousewheel DOMMouseScroll",d.handleMouseWheel)});d.mouseZoomedIn=!1;var b,c=function(){d.mouseZoomedIn&&(f.removeClass(p,"pswp--zoomed-in"),d.mouseZoomedIn=!1);1>q?f.addClass(p,"pswp--zoom-allowed"):f.removeClass(p,"pswp--zoom-allowed");e()},e=function(){b&&
(f.removeClass(p,"pswp--dragging"),b=!1)};r("resize",c);r("afterChange",c);r("pointerDown",function(){d.mouseZoomedIn&&(b=!0,f.addClass(p,"pswp--dragging"))});r("pointerUp",e);a||c()},handleMouseWheel:function(a){if(q<=d.currItem.fitRatio)return h.modal&&(!h.closeOnScroll||ya||O?a.preventDefault():va&&2<Math.abs(a.deltaY)&&(nb=!0,d.close())),!0;a.stopPropagation();J.x=0;if("deltaX"in a)1===a.deltaMode?(J.x=18*a.deltaX,J.y=18*a.deltaY):(J.x=a.deltaX,J.y=a.deltaY);else if("wheelDelta"in a)a.wheelDeltaX&&
(J.x=-.16*a.wheelDeltaX),J.y=a.wheelDeltaY?-.16*a.wheelDeltaY:-.16*a.wheelDelta;else if("detail"in a)J.y=a.detail;else return;yb(q,!0);var b=g.x-J.x,c=g.y-J.y;(h.modal||b<=k.min.x&&b>=k.max.x&&c<=k.min.y&&c>=k.max.y)&&a.preventDefault();d.panTo(b,c)},toggleDesktopZoom:function(a){a=a||{x:A.x/2+ua.x,y:A.y/2+ua.y};var b=h.getDoubleTapZoom(!0,d.currItem),c=q===b;d.mouseZoomedIn=!c;d.zoomTo(c?d.currItem.initialZoomLevel:b,a,333);f[(c?"remove":"add")+"Class"](p,"pswp--zoomed-in")}}});var Gc={history:!0,
galleryUID:1},Ua,oc,qa,mb,Lb,pc,y,Da,Mb,Nb,K,Ob,qc=function(){var a=K.hash.substring(1),b={};if(5>a.length)return b;for(var c=a.split("&"),a=0;a<c.length;a++)if(c[a]){var d=c[a].split("=");2>d.length||(b[d[0]]=d[1])}if(h.galleryPIDs)for(c=b.pid,a=b.pid=0;a<ca.length;a++){if(ca[a].pid===c){b.pid=a;break}}else b.pid=parseInt(b.pid,10)-1;0>b.pid&&(b.pid=0);return b},Pb=function(){qa&&clearTimeout(qa);if(ya||O)qa=setTimeout(Pb,500);else{mb?clearTimeout(oc):mb=!0;var a=l+1,b=Y(l);b.hasOwnProperty("pid")&&
(a=b.pid);a=y+"&gid="+h.galleryUID+"&pid="+a;Da||-1===K.hash.indexOf(a)&&(Nb=!0);b=K.href.split("#")[0]+"#"+a;if(Ob){if("#"+a!==window.location.hash)history[Da?"replaceState":"pushState"]("",document.title,b)}else Da?K.replace(b):K.hash=a;Da=!0;oc=setTimeout(function(){mb=!1},60)}};Ha("History",{publicMethods:{initHistory:function(){f.extend(h,Gc,!0);if(h.history){K=window.location;Da=Mb=Nb=!1;y=K.hash.substring(1);Ob="pushState"in history;-1<y.indexOf("gid=")&&(y=y.split("&gid=")[0],y=y.split("?gid=")[0]);
r("afterChange",d.updateURL);r("unbindEvents",function(){f.unbind(window,"hashchange",d.onHashChange)});var a=function(){pc=!0;Mb||(Nb?history.back():y?K.hash=y:Ob?history.pushState("",document.title,K.pathname+K.search):K.hash="");Ua&&clearTimeout(Ua);qa&&clearTimeout(qa)};r("unbindEvents",function(){nb&&a()});r("destroy",function(){pc||a()});r("firstUpdate",function(){l=qc().pid});var b=y.indexOf("pid=");-1<b&&(y=y.substring(0,b),"&"===y.slice(-1)&&(y=y.slice(0,-1)));setTimeout(function(){sa&&f.bind(window,
"hashchange",d.onHashChange)},40)}},onHashChange:function(){K.hash.substring(1)===y?(Mb=!0,d.close()):mb||(Lb=!0,d.goTo(qc().pid),Lb=!1)},updateURL:function(){Ua&&clearTimeout(Ua);qa&&clearTimeout(qa);Lb||(Da?Ua=setTimeout(Pb,800):Pb())}}});f.extend(d,wc)}});
